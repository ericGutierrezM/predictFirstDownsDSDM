<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFL First Down Predictor</title>
    <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
      line-height: 1.6;
      background: #f9f9f9;
      color: #333;
      font-size: 2vh;
    }

    h2 {
      font-size: 5vh;
    }
    </style>

</head>
<body>
  <div id="header"></div>
  <h2>get probability of first down.</h2>
  <div style="display: flex;">
    <div>
      <textarea id="json_input" rows="23" cols="50" placeholder="Enter JSON here">{
  "ydstogo": 10,
  "down": 1,
  "inertia": 0.7,
  "score_differential": 5,
  "play_category": "pass",
  "rush_pos": "missing",
  "pass_pos": "QB",
  "rec_pos": "WR",
  "def_vs_rush": 0.7,
  "def_vs_pass": 0.7,
  "def_vs_qb_scramble": 0.7,
  "shotgun": 0.0,
  "wp": 0.5,
  "temp": 70,
  "wind": 0,
  "roof": "outdoors",
  "surface": "grass",
  "location": 1.0,
  "half_seconds_remaining": 100,
  "game_half": "Half1",
  "yardline_100": 40
}</textarea>
      <br>
      <button onclick="predict()">Predict</button>
    </div>
    <div style="margin-left: 6vw;">
      <h3 style="font-size: 3.5vh;">first down probability.</h3>
      <div id="results" style="font-size: 12vh; margin-top: -12vh; font-weight: bold; color: #6283e6; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">---</div>
    </div>
  </div>


    
  <script>
    fetch('header.html')
        .then(res => res.text())
        .then(html => {
          document.getElementById('header').innerHTML = html;
        });
        
    async function predict() {
      const data = JSON.parse(document.getElementById('json_input').value);
            
      const response = await fetch('/api/predict', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(data)
      });
            
      const result = await response.json();
        document.getElementById('results').innerHTML = '<pre>' + (result['probability'][0]*100).toFixed(2)+'%' + '</pre>';
      }
    </script>
</body>
</html>